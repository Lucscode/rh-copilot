<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>RH Copilot - Sistema Inteligente de GestÃ£o de Talentos</title>
  <link rel="stylesheet" href="/styles.css" />
</head>
<body>
  <!-- Header Principal -->
  <header class="main-header" id="main-header">
    <div class="header-content">
      <div class="logo">
        <h1>ğŸ¯ RH Copilot</h1>
      </div>
      <div id="user-info" class="user-info hidden">
        <span id="user-display"></span>
        <button id="logout-btn" class="btn-logout">Sair</button>
      </div>
    </div>
  </header>

  <!-- Sidebar + Main Container -->
  <div id="app">
    <!-- Sidebar de NavegaÃ§Ã£o -->
    <aside id="sidebar" class="sidebar hidden">
      <nav class="sidebar-nav">
        <div id="nav-candidato" class="nav-section hidden">
          <h3>Candidato</h3>
          <a href="#" data-view="candidate-jobs" class="nav-item">ğŸ“‹ Vagas DisponÃ­veis</a>
          <a href="#" data-view="candidate-applications" class="nav-item">ğŸ’¼ Minhas InscriÃ§Ãµes</a>
          <a href="#" data-view="candidate-cv" class="nav-item">ğŸ“„ Meu CurrÃ­culo</a>
        </div>

        <div id="nav-rh" class="nav-section hidden">
          <h3>RH & Recrutamento</h3>
          <a href="#" data-view="rh-metrics" class="nav-item">ğŸ“Š MÃ©tricas & Analytics</a>
          <a href="#" data-view="rh-jobs" class="nav-item">ğŸ’¼ Gerenciar Vagas</a>
          <a href="#" data-view="rh-applications" class="nav-item">ğŸ“¥ Candidaturas</a>
          <a href="#" data-view="rh-documents" class="nav-item">ğŸ“ Documentos IA</a>
          <a href="#" data-view="rh-feed" class="nav-item">ğŸ”„ Feed de Atividades</a>
        </div>

        <div id="nav-funcionario" class="nav-section hidden">
          <h3>RH Chat</h3>
          <a href="#" data-view="employee-chat" class="nav-item">ğŸ’¬ Chat com RH</a>
          <a href="#" data-view="employee-profile" class="nav-item">ğŸ‘¤ Meu Perfil</a>
        </div>

        <div id="nav-admin" class="nav-section hidden">
          <h3>AdministraÃ§Ã£o</h3>
          <a href="#" data-view="admin-dashboard" class="nav-item">ğŸ“ˆ Dashboard Admin</a>
          <a href="#" data-view="admin-users" class="nav-item">ğŸ‘¥ Gerenciar UsuÃ¡rios</a>
          <a href="#" data-view="admin-system" class="nav-item">âš™ï¸ ConfiguraÃ§Ãµes Sistema</a>
        </div>
      </nav>
    </aside>

    <!-- Ãrea Principal -->
    <main class="main-content">
    
    <!-- 1. AUTH VIEW -->
    <section id="auth-view" class="view active">
      <div class="auth-container">
        <div class="auth-box">
          <h2>Bem-vindo ao RH Copilot</h2>
          <p class="subtitle">Sistema Inteligente de GestÃ£o de Talentos</p>
          
          <div class="auth-tabs">
            <button class="tab-btn active" data-tab="login">Login</button>
            <button class="tab-btn" data-tab="register">Registrar</button>
          </div>

          <!-- Login Form -->
          <form id="login-form" class="auth-form active">
            <label>
              Email
              <input type="email" name="email" placeholder="seu.email@exemplo.com" required />
            </label>
            <label>
              Senha
              <input type="password" name="password" placeholder="Sua senha" required />
            </label>
            <button type="submit" class="btn-primary">Entrar</button>
            <div id="login-result" class="result-message"></div>
          </form>

          <!-- Register Form -->
          <form id="register-form" class="auth-form hidden">
            <label>
              Nome Completo
              <input type="text" name="name" placeholder="Seu nome" required />
            </label>
            <label>
              Email
              <input type="email" name="email" placeholder="seu.email@exemplo.com" required />
            </label>
            <label>
              Senha
              <input type="password" name="password" placeholder="Min. 6 caracteres" required minlength="6" />
            </label>
            <label>
              Tipo de Conta
              <select name="role" required>
                <option value="">Selecione...</option>
                <option value="candidato">Candidato</option>
                <option value="funcionario">FuncionÃ¡rio</option>
                <option value="rh">RH/Recrutador</option>
                <option value="admin">Administrador</option>
              </select>
            </label>
            <button type="submit" class="btn-primary">Registrar</button>
            <div id="register-result" class="result-message"></div>
          </form>

          <div class="demo-info">
            <p><strong>Demo:</strong> Email: <code>rh@demo.com</code> | Senha: <code>password</code></p>
            <button id="seed-btn" class="btn-secondary" type="button">Carregar Dados Demo</button>
          </div>
        </div>
      </div>
    </section>

    <!-- 2. CANDIDATE PORTAL -->
    <section id="candidate-jobs" class="view">
      <h2>Vagas DisponÃ­veis</h2>
      <div class="search-bar">
        <input type="text" id="search-jobs" placeholder="Buscar vagas..." />
      </div>
      <div id="jobs-list" class="jobs-grid"></div>
    </section>

    <section id="candidate-applications" class="view">
      <h2>Minhas InscriÃ§Ãµes</h2>
      <div id="my-applications" class="applications-list"></div>
    </section>

    <section id="candidate-cv" class="view">
      <h2>Meu CurrÃ­culo</h2>
      <form id="cv-form" class="form-container">
        <label>
          Fazer Upload do CV (PDF/DOC)
          <input type="file" name="cv" accept=".pdf,.doc,.docx" />
        </label>
        <label>
          Resumo Profissional
          <textarea name="summary" placeholder="Fale sobre sua experiÃªncia..."></textarea>
        </label>
        <button type="submit" class="btn-primary">Atualizar CV</button>
      </form>
    </section>

    <!-- 3. RH PORTAL -->
    <section id="rh-metrics" class="view">
      <h2>Painel de MÃ©tricas</h2>
      <div class="metrics-grid">
        <div class="metric-card">
          <h3>Vagas Ativas</h3>
          <div class="metric-value" id="metric-jobs">-</div>
        </div>
        <div class="metric-card">
          <h3>Candidatos</h3>
          <div class="metric-value" id="metric-candidates">-</div>
        </div>
        <div class="metric-card">
          <h3>Candidaturas</h3>
          <div class="metric-value" id="metric-applications">-</div>
        </div>
        <div class="metric-card">
          <h3>Match MÃ©dio</h3>
          <div class="metric-value" id="metric-avg-score">-%</div>
        </div>
      </div>
      <div class="chart-container">
        <h3>Candidaturas por Status</h3>
        <div id="status-chart" class="status-chart"></div>
      </div>
    </section>

    <section id="rh-jobs" class="view">
      <h2>Gerenciar Vagas</h2>
      <button class="btn-primary btn-large" id="create-job-btn">â• Criar Nova Vaga</button>
      
      <div id="create-job-form" class="form-container hidden">
        <form id="job-form">
          <label>
            TÃ­tulo da Vaga
            <input type="text" name="title" placeholder="Ex: Desenvolvedor Python Senior" required />
          </label>
          <label>
            DescriÃ§Ã£o
            <textarea name="description" placeholder="Descreva a vaga..." required></textarea>
          </label>
          <label>
            Requisitos
            <textarea name="requirements" placeholder="Liste os requisitos..." required></textarea>
          </label>
          <label>
            SalÃ¡rio (Opcional)
            <input type="text" name="salary" placeholder="Ex: R$ 5.000 - R$ 8.000" />
          </label>
          <div class="form-actions">
            <button type="submit" class="btn-primary">Publicar Vaga</button>
            <button type="button" class="btn-secondary" id="cancel-job-btn">Cancelar</button>
          </div>
        </form>
      </div>

      <div id="rh-jobs-list" class="jobs-grid"></div>
    </section>

    <section id="rh-applications" class="view">
      <h2>Candidaturas Recebidas</h2>
      <div class="filter-bar">
        <select id="status-filter">
          <option value="">Todos os Status</option>
          <option value="aplicado">Aplicado</option>
          <option value="em_analise">Em AnÃ¡lise</option>
          <option value="entrevista">Entrevista</option>
          <option value="oferecido">Oferecido</option>
          <option value="rejeitado">Rejeitado</option>
        </select>
      </div>
      <div id="rh-applications-list" class="applications-list"></div>
    </section>

    <section id="rh-documents" class="view">
      <h2>Documentos para Alimentar IA</h2>
      <p class="subtitle">Upload de polÃ­ticas, procedimentos e documentos para melhorar o Chat RH</p>
      
      <div class="upload-area">
        <form id="document-form">
          <label>
            Nome do Documento
            <input type="text" name="title" placeholder="Ex: PolÃ­tica de FÃ©rias" required />
          </label>
          <label>
            DescriÃ§Ã£o
            <textarea name="description" placeholder="Do que se trata este documento?" required></textarea>
          </label>
          <label>
            Arquivo
            <input type="file" name="file" accept=".pdf,.doc,.docx,.txt" required />
          </label>
          <button type="submit" class="btn-primary">Enviar Documento</button>
        </form>
      </div>

      <div id="documents-list" class="documents-grid"></div>
    </section>

    <section id="rh-feed" class="view">
      <h2>Feed de Atividades</h2>
      <div id="activities-feed" class="activities-list"></div>
    </section>

    <!-- 4. EMPLOYEE (FUNCIONARIO) PORTAL -->
    <section id="employee-chat" class="view">
      <h2>Chat com RH - Bot Assistente</h2>
      <div class="chat-container">
        <div id="chat-messages" class="chat-messages"></div>
        <form id="chat-form" class="chat-input">
          <input type="text" id="chat-input" placeholder="FaÃ§a sua pergunta..." required />
          <button type="submit" class="btn-primary">Enviar</button>
        </form>
      </div>
    </section>

    <section id="employee-profile" class="view">
      <h2>Meu Perfil</h2>
      <div class="profile-container">
        <h3>InformaÃ§Ãµes Pessoais</h3>
        <div id="profile-info" class="info-card"></div>
      </div>
    </section>

    <!-- 5. ADMIN PORTAL -->
    <section id="admin-dashboard" class="view">
      <h2>Dashboard Administrativo</h2>
      <div class="admin-metrics-grid">
        <div class="admin-card">
          <h3>UsuÃ¡rios Totais</h3>
          <div class="big-number" id="admin-total-users">-</div>
        </div>
        <div class="admin-card">
          <h3>RHs Ativos</h3>
          <div class="big-number" id="admin-rhs">-</div>
        </div>
        <div class="admin-card">
          <h3>FuncionÃ¡rios</h3>
          <div class="big-number" id="admin-employees">-</div>
        </div>
        <div class="admin-card">
          <h3>Status do Sistema</h3>
          <div class="big-number" id="admin-status">âœ… Online</div>
        </div>
      </div>
    </section>

    <section id="admin-users" class="view">
      <h2>Gerenciar UsuÃ¡rios</h2>
      <div id="admin-users-list" class="users-table"></div>
    </section>

    <section id="admin-system" class="view">
      <h2>ConfiguraÃ§Ãµes do Sistema</h2>
      <div class="settings-container">
        <div class="setting-item">
          <h3>Banco de Dados</h3>
          <p id="db-info">-</p>
        </div>
        <div class="setting-item">
          <h3>API</h3>
          <button id="test-api-btn" class="btn-secondary">Testar API</button>
          <p id="api-status">-</p>
        </div>
      </div>
    </section>

  </main>
  </div>

  <script src="/app.js"></script>
</body>
</html>
